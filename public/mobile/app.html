
<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MindVault</title>

    <link rel="icon" href="./favicon.ico">
    <link rel="manifest" href="./manifest.json">

    <link href="./build/assets/app-DynmULMn.css" rel="stylesheet">
    <link href="./css/mindvault-theme.css" rel="stylesheet">

    <style>
        .mobile-container {
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        .page-content {
            width: 100%;
            height: 100%;
            border: none;
            overflow-y: auto;
        }

        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: rgb(24 24 27);
            color: white;
        }
    </style>
</head>
<body>
    <div class="mobile-container">
        <div id="loading" class="loading">
            <div>
                <h2>Loading MindVault...</h2>
                <p>Setting up your personal knowledge management system</p>
            </div>
        </div>

        <iframe id="app-frame" class="page-content" style="display: none;"></iframe>
    </div>

    <script>
        // Mobile App Router
        class MobileRouter {
            constructor() {
                this.currentPage = null;
                this.frame = document.getElementById("app-frame");
                this.loading = document.getElementById("loading");
                this.init();
            }

            init() {
                // Start with dashboard
                setTimeout(() => {
                    this.navigate("dashboard");
                }, 1000);
            }

            navigate(page) {
                console.log("Navigating to:", page);

                const pageMap = {
                    "dashboard": "./pages/dashboard.html",
                    "login": "./pages/login.html",
                    "register": "./pages/register.html",
                    "profile": "./pages/settings/profile.html",
                    "password": "./pages/settings/password.html",
                    "appearance": "./pages/settings/appearance.html"
                };

                const url = pageMap[page] || pageMap["dashboard"];

                this.frame.src = url;
                this.frame.onload = () => {
                    this.loading.style.display = "none";
                    this.frame.style.display = "block";
                    this.currentPage = page;
                };
            }
        }

        // Initialize router
        window.router = new MobileRouter();

        // Global navigation function
        window.navigateTo = function(page) {
            window.router.navigate(page);
        };

        // Android bridge (if available)
        if (window.Android) {
            window.Android.onReady();
        }
    </script>
</body>
</html>